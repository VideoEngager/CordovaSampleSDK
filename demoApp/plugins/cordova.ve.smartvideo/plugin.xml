<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0" xmlns:android="http://schemas.android.com/apk/res/android" id="cordova.ve.smartvideo" version="1.0.0">
   <name>smartvideo</name>
   <js-module name="smartvideo" src="www/smartvideo.js">
      <clobbers target="cordova.plugins.smartvideo" />
   </js-module>
   <platform name="android">
      <config-file parent="/*" target="res/xml/config.xml">
         <feature name="smartvideo">
            <param name="android-package" value="cordova.ve.smartvideo.smartvideo" />
         </feature>
      </config-file>
      <config-file parent="/*" target="AndroidManifest.xml" />
      <source-file src="src/android/smartvideo.java" target-dir="src/cordova/ve/smartvideo" />
      <edit-config file="AndroidManifest.xml" target="/manifest/application" mode="merge">
        <application tools:replace="android:hardwareAccelerated" xmlns:tools="http://schemas.android.com/tools" />
    </edit-config>
    <framework src="com.videoengager:smartvideo-sdk:1.10.1" />
    <framework src="build-extras.gradle" custom="true" type="gradleReference" />
   </platform>
   <platform name="ios">
       <config-file parent="/*" target="config.xml">
           <feature name="smartvideo">
               <param name="ios-package" value="SmartVideoCordova" />
               <param name="onload" value="true" />
           </feature>
           <preference name="deployment-target" value="13.0" />
       </config-file>
       <!-- Add in the plugin .swift files here -->
       <source-file src="src/ios/SmartVideoCordova.swift" />
       
       <!-- Add in the swift-support plugin by default -->
       <dependency id="cordova-plugin-add-swift-support" />
       <dependency id="cordova-plugin-ios-camera-permissions" />
<!--        <pods-config ios-min-version="11.0" use-frameworks="true" />-->
<!--        <pod name="SmartVideo" />-->
       
       <config-file target="*-Info.plist" parent="CFBundleURLTypes">
           <array>
               <dict>
                   <key>CAMERA_USAGE_DESCRIPTION</key>
                   <string>$(PRODUCT_NAME) uses your camera to make and receive video calls with/from support agents. Be aware that support team may record your calls. </string>
                   <key>PHOTOLIBRARY_USAGE_DESCRIPTION</key>
                   <string>$(PRODUCT_NAME) will use your photos only if you select to send/receive photo files.</string>
                   <key>MICROPHONE_USAGE_DESCRIPTION</key>
                   <string>$(PRODUCT_NAME) uses your microphone to make and receive voice and video calls with/from support agents. Be aware that support team may record your calls. </string>
               </dict>
           </array>
       </config-file>

       
       <podspec>
         <config>
           <source url="https://github.com/CocoaPods/Specs.git"/>
         </config>
         <pods use-frameworks="true">
           <pod name="SmartVideo"/>
         </pods>
       </podspec>
   </platform>
</plugin>

